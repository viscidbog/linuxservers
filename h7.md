# Maalisuora

## a)

Asensin Pythonin, Javan ja C ja C++ -kieliä käyttävän gcc:n. 

<img width="643" height="207" alt="image" src="https://github.com/user-attachments/assets/f994b9df-2030-403d-9a67-185edb8b0024" />

<break></break>

Sitten kirjoittamaan Hello Worldeja Teron (2018) ohjeiden mukaan.

Ensin Python:

<img width="509" height="160" alt="image" src="https://github.com/user-attachments/assets/dabfc191-6e91-4ec7-9696-9e0e70e3e6c9" />

(Heti kättelyssä unohtui lainausmerkit stringistä. Alkaa oikein lupaavasti!)

<break></break>

Java:

<img width="394" height="50" alt="image" src="https://github.com/user-attachments/assets/50499b5a-63a3-4984-bcbb-a8d2f3bdea0c" />

<break></break>

C++:

<img width="461" height="64" alt="image" src="https://github.com/user-attachments/assets/47d62609-292d-4e05-9318-13c92243e2e3" />

<break></break>

## b)

Laitoin lähdeviitteet kaikkeen.

## c)

Avataan .bashrc hakemistosta /etc/ ja nakataan sinne tälläinen.

<img width="264" height="38" alt="image" src="https://github.com/user-attachments/assets/4b55d018-61dc-46ee-95f2-2182cbdece78" />

(aliaksella voi tehdä komentoja)

<break></break>

Ja toimii:

<img width="163" height="34" alt="image" src="https://github.com/user-attachments/assets/364236cf-cae9-45cb-aeae-66f158416f62" />

## d)

Tästä eteenpäin teen asiat virtuaalikoneella.
Teen vuoden 2024 kurssin loppulabran, joka menee (hieman soveltaen) Teron (2024) mukaan näin:

Ensimmäiseksi pitää tehdä raportti kotihakemistoon näin: report/index.md. Oikeaan paikkaan tallennettu raportti näkyy komennolla `ls /home/*/report/index.md`.

<img width="620" height="61" alt="image" src="https://github.com/user-attachments/assets/73e52b64-dac4-4ad5-b816-771c54de1fce" />

(Tänne ei nyt siis tule mitään, koska raportti on tämä teksti.)

### a) Taustatiedot (ei relevanttia)
- Oma nimi
- Opiskelijanumero
- Linkki omaan kotitehtäväpakettiin


### b) Tiivistelmä koko työstä lopuksi
- Vastaa tähän kohtaan aivan viimeisenä
- Mikä toimii, mikä ei
- Tämä toimii: toimivien palveluiden osoitteet tai polut komentoihin
- Tämä ei vielä toimi: luettelo kohdista, joita ei ratkaistu.
- Huomaa, että nopeimpienkin viihdyttämiseksi tässä tehtävässä on enemmän kohtia kuin mitä muutamassa tunnissa ehtii ratkoa.

Kaikki toimii, minkä tein. Kohdat h) jäivät tekemättä, koska sisälsivät kurssilla läpi käymättömiä asioita. 

### c) Ei kolmea sekoseiskaa
- Suojaa raportti Linux-oikeuksilla niin, että vain oma käyttäjäsi pystyy katselemaan raporttia

Tätä varten pitää tehdä uusi käyttäjä. Sen osasin jo tehdä, mutta käyttäjään vaihtaminen tehdään ohjeiden mukaan. Gabriel Ramulgian (2023) mukaan:

<img width="405" height="61" alt="image" src="https://github.com/user-attachments/assets/22690cb0-7710-4389-a91f-718102f4f922" />

<break></break>

Laitetaan tämä komento, joka antaa kaikki oikeudet tiedoston omistajalle, ja ei yhtään muille:

<img width="590" height="206" alt="image" src="https://github.com/user-attachments/assets/0db770eb-e0ca-4d6f-9b7f-6586ad66115c" />

<break></break>

Sitten yritettäessä lukea tiedostoa toisella käyttäjällä, ei se toimi:

<img width="821" height="514" alt="image" src="https://github.com/user-attachments/assets/3741d281-0407-49ab-b649-11b6e4394a63" />

<break></break>

### d) 'howdy'
- Tee kaikkien käyttäjien käyttöön komento 'howdy'
- Tulosta haluamaasi ajankohtaista tietoa, esim päivämäärä, koneen osoite tms
- Pelkkä "hei maailma" ei riitä
- Komennon tulee toimia kaikilla käyttäjillä työhakemistosta riippumatta

Avataan sudolla /etc/bash.basrc ja kirjoitetaan sinne tällainen alias. Tähän polkuun siksi, että tänne laitetut komennot näkyvät kaikille käyttäjille (lghh, 2019).

<img width="478" height="49" alt="image" src="https://github.com/user-attachments/assets/3947517b-61cc-4bba-b884-28473b10d7b8" />

<break></break>

Terminaali piti käynnistää uudelleen, mutta nyt toimii molemmilla käyttäjillä:

<img width="396" height="174" alt="image" src="https://github.com/user-attachments/assets/22c385e9-d217-43ad-b307-e94504cdade8" />

<break></break>

### e) Etusivu uusiksi
- Asenna Apache-weppipalvelin
- Tee yrityksellemme "AI Kakone" kotisivu
- Kotisivu tulee näkyä koneesi IP-osoitteella suoraan etusivulla
- Sivua pitää päästä muokkaamaan normaalin käyttäjän oikeuksin (ilman sudoa). Liitä raporttiisi listaus tarvittavien tiedostojen ja kansioiden oikeuksista.

Apache olikin jo asennettu:

<img width="650" height="158" alt="image" src="https://github.com/user-attachments/assets/cd1b9763-d4a3-438b-8e63-29a634fe338a" />

<break></break>

Laitetaan oikeudet apache2 -kansioon rekursiivisesti komennolla `sudo chmod -R 777 apache2`.

<img width="603" height="283" alt="image" src="https://github.com/user-attachments/assets/b750e767-fa2f-4efe-b1e1-e0016ae9a83b" />

<break></break>

Otetaan edelliset mahdollisesti päällä olevat sivut pois ja ladataan apache uudestaan:

<img width="795" height="136" alt="image" src="https://github.com/user-attachments/assets/e6873a20-fec1-4565-9621-a0aae1e7db7f" />

<break></break>

Tehdään conf-tiedosto:

<img width="651" height="214" alt="image" src="https://github.com/user-attachments/assets/eddd81e9-8c77-4a09-a50f-7d945b3fb46c" />

Ja laitetaan em. tiedosto päälle kirjoittamalla `a2ensite ai.kapone.com.conf`

<break></break>

Muistetaan tässä välissä, että pitäis tuo index.html tehdäkin:

<img width="575" height="80" alt="image" src="https://github.com/user-attachments/assets/873f9294-562e-4e1d-b33d-a2ae9c848dd8" />

<break></break>

Ladataan apache uudestaan kuten edellä ja sivusto näkyy selaimessa:

<img width="359" height="205" alt="image" src="https://github.com/user-attachments/assets/1c70284b-a884-4352-8353-a1849c1896ab" />

(Meni vähän sivuston nimi pieleen, mutta ei anneta sen häiritä :D)

### g) Salattua hallintaa
- Asenna ssh-palvelin
- Tee uusi käyttäjä omalla nimelläsi, esim. minä tekisin "Tero Karvinen test", login name: "terote01"
- Automatisoi ssh-kirjautuminen julkisen avaimen menetelmällä, niin että et tarvitse salasanoja, kun kirjaudut sisään. Voit käyttää kirjautumiseen localhost-osoitetta

SSH on asennettu ja päällä:

<img width="844" height="382" alt="image" src="https://github.com/user-attachments/assets/4ee54249-61a4-4f48-897c-0307c149c751" />

<break></break>

Tehdään SSH-keygenillä avain linux.fi:n ohjeiden mukaan:

<img width="799" height="457" alt="image" src="https://github.com/user-attachments/assets/7530772b-a654-40c2-a058-10afd8c6c44e" />

<break></break>

Kopioidaan avaimen julkinen osa localhostiin ja otetaan yhteys. Kaikki toimii:

<img width="849" height="498" alt="image" src="https://github.com/user-attachments/assets/f73cd92a-aab6-4fdd-bfb1-e54efed303e9" />



### h) Djangon lahjat (tätä ei ollut kurssilla opetettu joten jätän välistä)
- Asenna omalle käyttäjällesi Django-kehitysympäristö
- Tee tietokantaan lista tekoälyistämme, jossa on nämä ominaisuudet
- Kirjautuminen salasanalla
- Tietokannan muokkaus wepissä Djangon omalla ylläpitoliittymällä (Django admin)
- Käyttäjä Erkille, jossa ei ole ylläpito-oikeuksia
- Taulu Assistants, jossa jokaisella tietueella on nimi (name)
- Jos haluat, voit lisäksi bonuksena laittaa mukaan kentän koko (size)


### h) Tuotantopropelli (kts. em. kohta)
-Jos olet tässä kohdassa, olet kyllä työskennellyt todella nopeasti (tai sitten teet tätä tehtävää huviksesi kurssin jälkeen). Mutta älä huoli, tässä haastetta, jotta et joudu pyörittelemään peukaloita.
-Tee tuotantotyyppinen asennus Djangosta
-Laita Django-lahjatietokanta tuotantotyyppiseen asennukseen
-Voit vaihtaa tämän sivun näkymään etusivulla staattisen sivun sijasta

## Lähteet

- Tero Karvinen 2018. Hello World Python3, Bash, C, C++, Go, Lua, Ruby, Java – Programming Languages on Ubuntu 18.04. Luettavissa: https://terokarvinen.com/2018/hello-python3-bash-c-c-go-lua-ruby-java-programming-languages-on-ubuntu-18-04/. Luettu: 3.10.2025.
- Tero Karvinen 2024. Final Lab for Linux Palvelimet 2024 Spring. Luettavissa: https://terokarvinen.com/2024/arvioitava-laboratorioharjoitus-2024-linux-palvelimet/. Luettu: 3.10.2025.
- Ramuglia, G. 2023. Switching Users in Linux: The SU Command Explained. IOFlood Blog. 28.12.2023. Luettavissa: https://ioflood.com/blog/su-linux-command/. Luettu: 6.10.2025.
- lghh. 2019. You can define the command in the /etc/bashrc or /etc/bash.bashrc file. stackoverflow.com. Luettavissa: 11.7.2019 https://stackoverflow.com/questions/56985749/how-can-i-make-my-custom-command-available-to-all-user-in-linux. Luettu: 6.10.2025.
- Linux.fi s.a. SSH. Luettavissa: https://linux.fi/wiki/SSH. Luettu: 6.10.2025.
