# Salataampa

## x)

- Let's Encryptin ja ACME-protokollan päämäärä on mahdollistaa HTTPS-palvelimen ylösajo sekä automaattinen selainluotettujen sertifikaattien saanti.
- ACME-client ajetaan web-palvelimella ja se ottaa yhteyttä Let's Encryptiin.
- LE luo tili-avainparin, jolla todistetaan, että ACME-clientin käyttäjä hallitsee domaineja.
- Tämä todistetaan siten, että client varaa joko DNS-recordin domain-nimen alle (example.com), taikka jonkin HTTP-resurssin domain-urlin alle (http://example.com/).
- Em. asian onnistuttua client tekee ja lähettää LE:lle sertifikaatin pyynnön ja se hyväksytään, jos kaikki menee hyvin.
(Let's Encrypt 2025)

- Apachen .conf -filessä tulee löytyä pathit SSL-serfifikaattiin ja -avaimeen (Apache Software Foundation, 2025).

## a)

Haetaan ilmainen TSL-sertifikaatti Let's Encryptilta. Ensin katotaan, että apache on pystyssä ja sivu toimii:

<img width="1191" height="425" alt="image" src="https://github.com/user-attachments/assets/66f9ac32-ce90-4a4f-b828-5219d7773199" />
<img width="409" height="190" alt="image" src="https://github.com/user-attachments/assets/0aec4218-c694-43f7-bde7-9ef5f703f11b" />

<break></break>

Sitten availlaan Teron (2025) ohjeiden mukaisesti palomuurista portti valmiiksi:

<img width="425" height="294" alt="image" src="https://github.com/user-attachments/assets/36798ced-d844-4637-b3ee-3e3e113826c2" />

(portti 7777 on auki peliservua varten, johon käytän palvelinta, kun en tee sillä mitään muuta. Jos kiinnostaa, niin kysy arvostelussa, mikä on kyseessä. Päivitän sen sitten tähän.)

<break></break>

Sitten asennetaan cerbot. Edelleen Teron (2025) ohjeiden mukaan:

<img width="560" height="152" alt="image" src="https://github.com/user-attachments/assets/784c873b-1a36-4ece-8bcb-623e6506a0ce" />

(se näemmä olikin jo asennettu)

<break></break>

Ja haetaan certbotilla certit omalle domainille:

<img width="966" height="558" alt="image" src="https://github.com/user-attachments/assets/10b43872-938f-4af9-8ca2-c481ccf0cfc4" />

<break></break>

Varmistetaan, että toimi:

<img width="486" height="348" alt="image" src="https://github.com/user-attachments/assets/e11747d3-b100-4d02-8f6a-33dd2823d453" />

<img width="541" height="671" alt="image" src="https://github.com/user-attachments/assets/db196fac-f7ca-48d5-aebd-5598e96faac3" />

## b)

Testataan laadunvarmistustyökalulla sivu:

<img width="1097" height="625" alt="image" src="https://github.com/user-attachments/assets/f658ebb0-a087-4238-9ffd-7cf99994cd5f" />

Ja kaikki toimii.

## Lähteet

- Let's Encrypt 2025. How It Works. Luettavissa: https://letsencrypt.org/how-it-works/. Luettu 29.9.2025.
- The Apache Software Foundation 2025. SSL/TLS Strong Encryption: How-To. Luettavissa: https://httpd.apache.org/docs/2.4/ssl/ssl_howto.html. Luettu 29.9.2025.
- Tero Karvinen 2025. Linux Palvelimet 2025 alkusyksy. Luettavissa: https://terokarvinen.com/linux-palvelimet/. Luettu 29.92025.
